{% extends "header.html" %} 
{% block title %}<title>Home</title>{% endblock %}
{% block content %}
{% load static %}
<div class="container-fluid" style="margin-top: 2px; font-family: helvetica;">
    <div class="pet-cards-flex">
        {% for profile in profiles %}
        <div class="pet-card" onclick="openPopup('{{ profile.profile_picture.url }}', '{{ profile.name }}', '{{ profile.gender }}','{{ profile.breed }}', '{{profile.birthday}}', '{{age}}','{{ profile.location }}')">
            <a href="javascript:void(0);" style="text-decoration: none;">
                <img src="{{ profile.profile_picture.url }}" alt="{{ profile.name }}">
                <div class="pet-info">
                    <h1 style="font-size: 32px;">{{ profile.name }}</h1>
                    <h3 style="font-size: 16px;">{{ profile.breed }}</h3>
                    <p>{{ profile.location }}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Overlay -->
<div class="overlay" id="overlay" onclick="closePopup()"></div>

<!-- Pop-up -->
<div class="popup" id="popup">
  <div class="popup-header">
    <span class="close-btn" id="closePopup" onclick="closePopup()">X</span>
  </div>
  <div class="popup-content">
    <div class="gallery">
      <img src="" id="galleryImage" alt="Profile Picture">
      <br>
      <div class="gallery-controls">
        <button id="prevBtn">‚ùÆ</button>
        <button id="nextBtn">‚ùØ</button>
      </div>
    </div>
    <h1 id="popupName">Name</h1>
    <p id="popupDetails">Gender <i>(Breed)</i></p>
    <p id="popupBirthday">üéÇ Birthday (Age)</p>
    <p id="popupLocation">üìç Location</p>
    <div class="message-box">
      <input type="text" placeholder="Send a message...">
      <button>‚û§</button>
    </div>
  </div>
</div>

<script>
function openPopup(imageUrl, name, gender, breed, birthday, age, location) {
    document.getElementById('galleryImage').src = imageUrl;
    document.getElementById('popupName').innerText = name;
    document.getElementById('popupDetails').innerText = `${gender} | (${breed})`;
    document.getElementById('popupBirthday').innerText = `üéÇ ${birthday} (${age} years old)`;
    document.getElementById('popupLocation').innerText = `üìç ${location}`;
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('popup').style.display = 'block';
}

function closePopup() {
    document.getElementById('overlay').style.display = 'none';
    document.getElementById('popup').style.display = 'none';
}
</script>

  <script>
    const heartIcons = document.querySelectorAll('.heart-icon');

    heartIcons.forEach(icon => {
      icon.addEventListener('click', () => {
        icon.classList.toggle('clicked');
      });
    });

// Elements
const showPopup = document.getElementById("showPopup");
  const closePopup = document.getElementById("closePopup");
  const overlay = document.getElementById("overlay");
  const popup = document.getElementById("popup");

  // Show pop-up
  showPopup.addEventListener("click", function (e) {
    e.preventDefault();
    overlay.style.display = "block";
    popup.style.display = "block";
  });

  // Hide pop-up
  closePopup.addEventListener("click", function () {
    overlay.style.display = "none";
    popup.style.display = "none";
  });

  // Close overlay
  overlay.addEventListener("click", function () {
    overlay.style.display = "none";
    popup.style.display = "none";
  });

  const images = [
    'ginger/ginger1.jpg',
    'ginger/ginger2.jpg',
    'ginger/ginger3.jpg' // Add more image paths as needed
  ];
  let currentIndex = 0;

  const galleryImage = document.getElementById('galleryImage');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  function updateImage() {
    galleryImage.src = images[currentIndex];
  }

  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
    updateImage();
  });

  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
    updateImage();
  });
</script>
{% endblock %}